{"version":3,"file":"repo.stories-a02f7329.js","sources":["../../src/lib/repo/bookmark.svg","../../src/lib/repo/code.svg","../../src/lib/repo/fork.svg","../../src/lib/repo/info.svg","../../src/lib/repo/Skeleton.tsx","../../src/lib/repo/star.svg","../../src/lib/repo/watch.svg","../../src/lib/repo/Repo.tsx"],"sourcesContent":["export default \"__VITE_ASSET__5024bab2__\"","export default \"__VITE_ASSET__3b1513cf__\"","export default \"__VITE_ASSET__8e19289a__\"","export default \"__VITE_ASSET__98ffb9cc__\"","function UserSkeleton() {\n  return <div>user is loading...</div>;\n}\n\nexport default UserSkeleton;\n","export default \"__VITE_ASSET__0a663d03__\"","export default \"__VITE_ASSET__87f729d4__\"","import { useEffect, useState } from 'react';\n\nimport { ReactComponent as LinkIcon } from '../user/link.svg';\nimport { ReactComponent as BookmarkIcon } from './bookmark.svg';\nimport { ReactComponent as CodeIcon } from './code.svg';\nimport { ReactComponent as ForkIcon } from './fork.svg';\nimport { ReactComponent as InfoIcon } from './info.svg';\nimport Skeleton from './Skeleton';\nimport { ReactComponent as StarIcon } from './star.svg';\nimport { ReactComponent as WatchIcon } from './watch.svg';\n\ntype Repo = ReactGitHub.Repo;\n\nexport interface GitHubRepoProps {\n  username: string;\n  name: string;\n  showLanguageDetails?: boolean;\n}\nexport interface RepoLanguagesProps {\n  username: string;\n  name: string;\n}\n\nconst iconStyle = {\n  width: '16px',\n  fill: 'currentColor',\n  flexShrink: 0,\n};\n\nfunction RepoLanguages({ username, name }: RepoLanguagesProps) {\n  const langAPI = `https://api.github.com/repos/${username}/${name}/languages`;\n  const [languages, setLanguages] = useState<Record<string, number>>({});\n\n  useEffect(() => {\n    async function fetchLanguages() {\n      const resp = await fetch(langAPI);\n      const data: Record<string, number> = await resp.json();\n      setLanguages(data);\n    }\n    fetchLanguages().catch(() => {});\n  }, [langAPI]);\n\n  const langs = Object.entries(languages)\n    .sort(([, a], [, b]) => b - a)\n    .map(([lang]) => lang);\n\n  return (\n    <div className=\"flex flex-wrap gap-1\">\n      {langs.map((lang) => (\n        <span className=\"px-1 text-xs bg-gray-500 rounded\" key={lang}>\n          {lang}\n        </span>\n      ))}\n    </div>\n  );\n}\n\nexport function GitHubRepo({ username, name, showLanguageDetails = true }: GitHubRepoProps) {\n  const api = `https://api.github.com/repos/${username}/${name}`;\n  const [repo, setRepo] = useState<Repo | null>(null);\n  useEffect(() => {\n    async function fetchRepo() {\n      const resp = await fetch(api);\n      const data: Repo = await resp.json();\n      setRepo(data);\n    }\n    fetchRepo().catch(() => {});\n  }, [api]);\n  if (!repo) {\n    return <Skeleton />;\n  }\n\n  const items = [\n    { Icon: InfoIcon, key: 'description', inner: repo.description },\n    {\n      Icon: LinkIcon,\n      key: 'homepage',\n      inner: repo.homepage ? (\n        <a href={repo.homepage} target=\"_blank\">\n          {repo.homepage}\n        </a>\n      ) : null,\n    },\n    {\n      Icon: CodeIcon,\n      key: 'languages',\n      inner: showLanguageDetails ? (\n        <RepoLanguages username={username} name={name} />\n      ) : (\n        repo.language\n      ),\n    },\n    {\n      Icon: BookmarkIcon,\n      key: 'topics',\n      inner: repo.topics?.length ? repo.topics.join(', ') : null,\n    },\n  ];\n\n  return (\n    <div className=\"items-center d-flex flex-col w-[320px] max-w-[450px] p-4 bg-[#2c323a] overflow-hidden rounded-lg border-[1px solid #d8dee4] text-white\">\n      <div className=\"flex items-center gap-2\">\n        <div className=\"w-8 h-8\">\n          <img\n            className=\"object-cover w-full h-full rounded-full\"\n            src={repo.owner.avatar_url}\n            alt={`@${username}'s GitHub user card`}\n          />\n        </div>\n\n        <div className=\"flex gap-1\">\n          <span>{username}</span>\n          <span>/</span>\n          <span>{name}</span>\n        </div>\n      </div>\n\n      <div className=\"flex mt-2 \">\n        <div className=\"flex flex-col gap-1 grow\">\n          <div className=\"flex items-center justify-center gap-1\">\n            <span className=\"text-gray-300\">\n              <StarIcon style={iconStyle} />\n            </span>\n            <b>{repo.stargazers_count}</b>\n          </div>\n          <div className=\"flex items-center justify-center text-xs text-gray-300\">Stars</div>\n        </div>\n        <div className=\"flex flex-col gap-1 grow\">\n          <div className=\"flex items-center justify-center gap-1\">\n            <span className=\"text-gray-300\">\n              <ForkIcon style={iconStyle} />\n            </span>\n            <b>{repo.forks_count}</b>\n          </div>\n          <div className=\"flex items-center justify-center text-xs text-gray-300\">Forks</div>\n        </div>\n        <div className=\"flex flex-col gap-1 grow\">\n          <div className=\"flex items-center justify-center gap-1\">\n            <span className=\"text-gray-300\">\n              <WatchIcon style={iconStyle} />\n            </span>\n            <b>{repo.watchers_count}</b>\n          </div>\n          <div className=\"flex items-center justify-center text-xs text-gray-300\">Watchers</div>\n        </div>\n      </div>\n\n      <div className=\"flex flex-col gap-1 mt-4 text-sm\">\n        {items.map(({ Icon, key, inner }) =>\n          inner ? (\n            <div className=\"flex items-center gap-2 text-gray-300\" key={key}>\n              <Icon style={iconStyle} />\n              <span>{inner}</span>\n            </div>\n          ) : null,\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["SvgBookmark","props","React.createElement","SvgCode","SvgFork","SvgInfo","UserSkeleton","jsx","SvgStar","SvgWatch","iconStyle","RepoLanguages","username","name","langAPI","languages","setLanguages","useState","useEffect","fetchLanguages","data","langs","a","b","lang","GitHubRepo","showLanguageDetails","api","repo","setRepo","fetchRepo","Skeleton","items","InfoIcon","LinkIcon","CodeIcon","BookmarkIcon","_a","jsxs","StarIcon","ForkIcon","WatchIcon","Icon","key","inner"],"mappings":"oKACA,MAAMA,EAAeC,GAA0BC,EAAmB,cAAC,MAAO,CAAE,MAAO,6BAA8B,MAAO,GAAI,OAAQ,GAAI,QAAS,YAAa,GAAGD,GAAyBC,EAAAA,cAAoB,OAAQ,CAAE,KAAM,eAAgB,EAAG,+GAA+G,CAAE,CAAC,ECA7VC,EAAWF,GAA0BC,EAAmB,cAAC,MAAO,CAAE,MAAO,6BAA8B,MAAO,GAAI,OAAQ,GAAI,QAAS,YAAa,GAAGD,GAAyBC,EAAAA,cAAoB,OAAQ,CAAE,KAAM,eAAgB,EAAG,k0BAAk0B,CAAE,CAAC,ECA5iCE,EAAWH,GAA0BC,EAAmB,cAAC,MAAO,CAAE,cAAe,OAAQ,OAAQ,GAAI,QAAS,YAAa,MAAO,GAAI,sBAAuB,OAAQ,UAAW,mCAAoC,GAAGD,CAAK,EAAoBC,EAAmB,cAAC,OAAQ,CAAE,EAAG,oWAAsW,CAAA,CAAC,ECAxnBG,EAAWJ,GAA0BC,EAAmB,cAAC,MAAO,CAAE,MAAO,6BAA8B,MAAO,GAAI,OAAQ,GAAI,QAAS,YAAa,GAAGD,CAAK,EAAoBC,EAAAA,cAAoB,OAAQ,CAAE,KAAM,eAAgB,EAAG,+KAA+K,CAAE,EAAmBA,EAAmB,cAAC,OAAQ,CAAE,KAAM,eAAgB,EAAG,wKAA0K,CAAA,CAAC,ECDnpB,SAASI,GAAe,CACf,OAAAC,EAAA,IAAC,OAAI,SAAkB,oBAAA,CAAA,CAChC,CCDA,MAAMC,EAAWP,GAA0BC,EAAmB,cAAC,MAAO,CAAE,cAAe,OAAQ,OAAQ,GAAI,QAAS,YAAa,MAAO,GAAI,sBAAuB,OAAQ,UAAW,oEAAqE,GAAGD,CAAK,EAAoBC,EAAmB,cAAC,OAAQ,CAAE,EAAG,0PAA4P,CAAA,CAAC,ECA/iBO,EAAYR,GAA0BC,EAAmB,cAAC,MAAO,CAAE,cAAe,OAAQ,OAAQ,GAAI,QAAS,YAAa,MAAO,GAAI,sBAAuB,OAAQ,UAAW,sBAAuB,GAAGD,CAAK,EAAoBC,EAAmB,cAAC,OAAQ,CAAE,EAAG,0oBAA4oB,CAAA,CAAC,ECsBx5BQ,EAAA,CAAkB,MAAA,OACT,KAAA,eACD,WAAA,CAER,EAEA,SAAAC,EAAA,CAAA,SAAAC,EAAA,KAAAC,GAAA,CACE,MAAAC,EAAA,gCAAAF,KAAAC,cACA,CAAAE,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,CAAA,EAEAC,EAAAA,UAAA,IAAA,CACE,eAAAC,GAAA,CAEE,MAAAC,EAAA,MADA,MAAA,MAAAN,CAAA,GACA,OACAE,EAAAI,CAAA,CAAiB,CAEnBD,EAAA,EAAA,MAAA,IAAA,CAA6B,CAAA,CAAE,EAAA,CAAAL,CAAA,CAAA,EAGjC,MAAAO,EAAA,OAAA,QAAAN,CAAA,EAAA,KAAA,CAAA,CAAA,CAAAO,CAAA,EAAA,CAAA,CAAAC,CAAA,IAAAA,EAAAD,CAAA,EAAA,IAAA,CAAA,CAAAE,CAAA,IAAAA,CAAA,EAIA,OAAAjB,EAAA,IAAA,MAAA,CAAA,UAAA,uBAAA,SAAAc,EAAA,IAAAG,GAAAjB,EAAA,IAAA,OAAA,CAAA,UAAA,mCAAA,SAAAiB,GAAAA,CAAA,CAAA,CAAA,CAAA,CASF,CAEO,SAAAC,EAAA,CAAA,SAAAb,EAAA,KAAAC,EAAA,oBAAAa,EAAA,EAAA,EAAA,OACL,MAAAC,EAAA,gCAAAf,KAAAC,IACA,CAAAe,EAAAC,CAAA,EAAAZ,EAAA,SAAA,IAAA,EASA,GARAC,EAAAA,UAAA,IAAA,CACE,eAAAY,GAAA,CAEE,MAAAV,EAAA,MADA,MAAA,MAAAO,CAAA,GACA,OACAE,EAAAT,CAAA,CAAY,CAEdU,EAAA,EAAA,MAAA,IAAA,CAAwB,CAAA,CAAE,EAAA,CAAAH,CAAA,CAAA,EAE5B,CAAAC,EACE,OAAArB,EAAA,IAAAwB,EAAA,CAAA,CAAA,EAGF,MAAAC,EAAA,CAAc,CAAA,KAAAC,EAAA,IAAA,cAAA,MAAAL,EAAA,WAAA,EACkD,CAC9D,KAAAM,EACQ,IAAA,WACD,MAAAN,EAAA,SAAArB,EAAA,IAAA,IAAA,CAAA,KAAAqB,EAAA,SAAA,OAAA,SAAA,SAAAA,EAAA,QAAA,CAAA,EAAA,IAKD,EACN,CACA,KAAAO,EACQ,IAAA,YACD,MAAAT,EAAAnB,EAAAA,IAAAI,EAAA,CAAA,SAAAC,EAAA,KAAAC,CAAA,CAAA,EAAAe,EAAA,QAIE,EAET,CACA,KAAAQ,EACQ,IAAA,SACD,OAAAC,EAAAT,EAAA,SAAA,MAAAS,EAAA,OAAAT,EAAA,OAAA,KAAA,IAAA,EAAA,IACiD,CACxD,EAGF,OAAAU,EAAA,KAAA,MAAA,CAAA,UAAA,yIAAA,SAAA,CAEIA,EAAAA,KAAA,MAAA,CAAA,UAAA,0BAAA,SAAA,CACE/B,EAAAA,IAAA,MAAA,CAAA,UAAA,UAAA,SAAAA,EAAA,IACE,MAAC,CAAA,UAAA,0CACW,IAAAqB,EAAA,MAAA,WACM,IAAA,IAAAhB,sBACP,CAAA,EAAA,EAEb0B,EAAAA,KAAA,MAAA,CAAA,UAAA,aAAA,SAAA,CAGE/B,EAAAA,IAAA,OAAA,CAAA,SAAAK,CAAA,CAAA,EAAgBL,EAAAA,IAAA,OAAA,CAAA,SAAA,GAAA,CAAA,EACTA,EAAAA,IAAA,OAAA,CAAA,SAAAM,CAAA,CAAA,CACK,EAAA,CACd,EAAA,EACFyB,EAAAA,KAAA,MAAA,CAAA,UAAA,aAAA,SAAA,CAGEA,EAAAA,KAAA,MAAA,CAAA,UAAA,2BAAA,SAAA,CACEA,EAAAA,KAAA,MAAA,CAAA,UAAA,yCAAA,SAAA,CACE/B,EAAAA,IAAA,OAAA,CAAA,UAAA,gBAAA,SAAAA,MAAAgC,EAAA,CAAA,MAAA7B,CAAA,CAAA,CAAA,CAAA,EAEAH,EAAAA,IAAA,IAAA,CAAA,SAAAqB,EAAA,gBAAA,CAAA,CAC0B,EAAA,EAC5BrB,EAAA,IAAA,MAAA,CAAA,UAAA,yDAAA,SAAA,QAAA,CAC6E,EAAA,EAC/E+B,EAAAA,KAAA,MAAA,CAAA,UAAA,2BAAA,SAAA,CAEEA,EAAAA,KAAA,MAAA,CAAA,UAAA,yCAAA,SAAA,CACE/B,EAAAA,IAAA,OAAA,CAAA,UAAA,gBAAA,SAAAA,MAAAiC,EAAA,CAAA,MAAA9B,CAAA,CAAA,CAAA,CAAA,EAEAH,EAAAA,IAAA,IAAA,CAAA,SAAAqB,EAAA,WAAA,CAAA,CACqB,EAAA,EACvBrB,EAAA,IAAA,MAAA,CAAA,UAAA,yDAAA,SAAA,QAAA,CAC6E,EAAA,EAC/E+B,EAAAA,KAAA,MAAA,CAAA,UAAA,2BAAA,SAAA,CAEEA,EAAAA,KAAA,MAAA,CAAA,UAAA,yCAAA,SAAA,CACE/B,EAAAA,IAAA,OAAA,CAAA,UAAA,gBAAA,SAAAA,MAAAkC,EAAA,CAAA,MAAA/B,CAAA,CAAA,CAAA,CAAA,EAEAH,EAAAA,IAAA,IAAA,CAAA,SAAAqB,EAAA,cAAA,CAAA,CACwB,EAAA,EAC1BrB,EAAA,IAAA,MAAA,CAAA,UAAA,yDAAA,SAAA,WAAA,CACgF,EAAA,CAClF,EAAA,EACFA,EAAA,IAAA,MAAA,CAAA,UAAA,mCAAA,SAAAyB,EAAA,IAGS,CAAA,CAAA,KAAAU,EAAA,IAAAC,EAAA,MAAAC,KAAAA,EAAAN,EAAA,KAAA,MAAA,CAAA,UAAA,wCAAA,SAAA,CAGD/B,EAAAA,IAAAmC,EAAA,CAAA,MAAAhC,CAAA,CAAA,EAAwBH,EAAAA,IAAA,OAAA,CAAA,SAAAqC,CAAA,CAAA,CACX,CAAA,EAAAD,CAAA,EAAA,IAEb,EAAA,CAER,CAAA,CAAA,CAGN;;;;;;"}